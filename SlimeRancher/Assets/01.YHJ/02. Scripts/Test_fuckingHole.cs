using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Test_fuckingHole : MonoBehaviour
{
    public GameObject blackhole;

    GameObject[] stars;

    float time;

    Vector3 dir;

    bool fuckU;

    private void Start()
    {
        blackhole.SetActive(false);

        // "Star"?? ?°æ?? ?????? ???????????? ???? Star ?Ú˜?? ??¢•?.
        // stars = GameObject.FindGameObjectsWithTag("Star");
    }

    private void Update()
    {
        if (Input.GetMouseButtonDown(1))
        {
            blackhole.SetActive(true);
            fuckU= true;
        }

        time += Time.deltaTime;

        if (fuckU)
        {
            foreach (GameObject star in stars)
            {
                // ??????? ???? ??©£? ????? ???????.
                float dis = Vector3.Distance(this.transform.position, star.transform.position);

                // 1??? ?????? ??(= ??????? ??????? 1??? ?????? ??)
                if (time > 1)
                {
                    // ?????•Í??? ??????? ????? ?????? ?????.
                    dir = blackhole.transform.position - star.transform.position;
                    // ???? ????? ??????? ???????? ???? ????????.
                    star.transform.position += dir * 1f * Time.deltaTime;
                }
                // ??????? ???? ????? 0.3f????? ???
                if (dis <= 0.3f)
                {
                    // ???? ??????? ???? ?? ?????? ????????.
                    star.transform.position += dir * 3f * Time.deltaTime;
                }
                // ??????? ???? ????? 0.05f ????? ???
                if (dis <= 0.05f)
                {
                    // ???? ??????? ?? ?????? ????????.
                    star.transform.position += dir * 5f * Time.deltaTime;
                    // ???? ??? ????????? 0.9?? ??????? ?????.
                    star.transform.localScale *= 0.9f;
                }
                // ??????? ???????? 10??? ??????
                if (time >= 10)
                {
                    // ??????? ????????.
                    blackhole.gameObject.SetActive(false);
                    // ????? ???? ???? ?????????? ???? ????????? ???? ???? ??„· ???? ®®????????
                }
            }
        }


    }
}
